---
// Header component for the site
import styles from './Header.module.css';
---

<header class={styles.header}>
  <button class={styles.sidebarToggle} data-sidebar-toggle aria-label="Open menu">
    <div class={styles.menuIcon}><span></span></div>
  </button>
</header>

<script>
  // Sidebar open/close for mobile
  const sidebar = document.querySelector('[data-sidebar]');
  const toggle = document.querySelector('[data-sidebar-toggle]');
  const app = document.querySelector('[data-app]');
  toggle && toggle.addEventListener('click', () => {
    sidebar?.classList.toggle('open');
    app?.classList.toggle('sidebar-open');
  });

  // Also close sidebar if ESC is pressed
  document.addEventListener('keydown', function(e) {
    if (e.key === "Escape") {
      sidebar?.classList.remove('open');
      app?.classList.remove('sidebar-open');
    }
  });
</script>

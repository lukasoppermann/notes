---
// Header component for the site
import styles from './Header.module.css';
---

<header class={styles.header}>
  <button class={styles.menuIcon} data-sidebar-toggle aria-label="Open menu">
    <span></span>
  </button>
</header>

<script>
  // Sidebar open/close for mobile
  const sidebar = document.querySelector('[data-sidebar]');
  const toggle = document.querySelector('[data-sidebar-toggle]');
  const backdrop = document.querySelector('[data-sidebar-backdrop]');
  toggle && toggle.addEventListener('click', () => {
    sidebar?.classList.toggle('open');
    backdrop?.classList.toggle('active');
  });

  backdrop && backdrop.addEventListener('click', () => {
    sidebar?.classList.remove('open');
    backdrop?.classList.remove('active');
  });
  
  // Also close sidebar if ESC is pressed
  document.addEventListener('keydown', function(e) {
    if (e.key === "Escape") {
      sidebar?.classList.remove('open');
      backdrop?.classList.remove('active');
    }
  });
</script>
